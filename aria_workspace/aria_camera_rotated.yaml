%YAML:1.0

# Rotated image dimensions (original 480x640 rotated 90° counter-clockwise)
image_height: 640
image_width: 480
use_imu: 0 # 0 for no IMU, 1 for using imu-left as primary

depth_lower_thr: 0.1
depth_upper_thr: 10.0
max_y_diff: 2

# Calibration - Images are rotated 90° counter-clockwise from original undistorted images
distortion_type: 0  # 0 for undistorted inputs

cam0:  # camera-slam-left (undistorted and rotated)
  # Rotated intrinsics: cx'=479.5-cy_orig=479.5-239.5=240, cy'=cx_orig=319.5
  intrinsics: [242.054, 242.054, 240.0, 319.5] # fx, fy, cx, cy (after rotation)
  distortion_coeffs: [0.0, 0.0, 0.0, 0.0, 0.0]  # No distortion for undistorted images
  T_type: 0           # 0 for Euroc format, the following T is Tbc
  T: 
  - [1.0, 0.0, 0.0, 0.0]
  - [0.0, 1.0, 0.0, 0.0]
  - [0.0, 0.0, 1.0, 0.0]
  - [0.0, 0.0, 0.0, 1.0]

cam1:  # camera-slam-right (undistorted and rotated)
  # Rotated intrinsics: cx'=479.5-cy_orig=479.5-239.5=240, cy'=cx_orig=319.5  
  intrinsics: [241.744, 241.744, 240.0, 319.5] # fx, fy, cx, cy (after rotation)
  distortion_coeffs: [0.0, 0.0, 0.0, 0.0, 0.0]  # No distortion for undistorted images
  T_type: 0           
  # Stereo extrinsics remain the same as rotation is applied to both cameras equally
  T: 
  - [1.0, 0.0, 0.0, 0.003400538596]    # Small offset in X direction
  - [0.0, 1.0, 0.0, -0.111039748246]   # Main baseline in Y direction (-111mm)
  - [0.0, 0.0, 1.0, -0.088867093617]   # Offset in Z direction (-88.9mm)  
  - [0.0, 0.0, 0.0, 1.0]

# IMU parameters (using imu-left as primary)
rate_hz: 1000  # Typical for Aria devices
gyroscope_noise_density: 1.6968e-04     # Estimated values - may need tuning
gyroscope_random_walk: 1.9393e-05       
accelerometer_noise_density: 2.0000e-3  
accelerometer_random_walk: 3.0000e-3    
g_value: 9.81007

# Note: T matrix remains unchanged because when both cameras are rotated by the same angle,
# their relative transformation (right camera relative to left camera) stays the same.
# The baseline distance and relative position are preserved during synchronized rotation.
